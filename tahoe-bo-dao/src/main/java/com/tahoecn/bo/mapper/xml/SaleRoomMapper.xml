<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tahoecn.bo.mapper.SaleRoomMapper">

	<insert id="batchInsertRoomInfoData">
		INSERT INTO sale_room (
			id,
			room_guid,
			bu_guid,
			proj_guid,
			bld_guid,
			main_room_guid,
			unit,
			floor,
			no,
			room,
			room_code,
			hu_xing,
			status,
			is_virtual_room,
			bld_area,
			tn_area,
			blrh_date,
			price,
			tn_price,
			base_total,
			total,
			tf_date,
			dj_area,
			rh_date,
			area_status,
			room_stru,
			b_product_type_code,
			ys_bld_area,
			ys_tn_area,
			sc_bld_area,
			sc_tn_area,
			earnest,
			ysz_num,
			no_tax_amount,
			tax_amount,
			tax_rate,
			no_tax_amount_dj,
			tax_amount_dj,
			is_main_room,
			main_data_product_type_code,
			main_data_bld_id,
			real_take_card_time,
			source_create_time,
			create_time
		) VALUES
		<foreach collection="list" item="item" index="index" separator=",">
    	(
    		#{item.id},#{item.roomGuid},#{item.buGuid},#{item.projGuid},#{item.bldGuid},
    		#{item.mainRoomGuid},#{item.unit},#{item.floor},#{item.no},
    		#{item.room},#{item.roomCode},#{item.huXing},#{item.status},
    		#{item.isVirtualRoom},#{item.bldArea},#{item.tnArea},#{item.blrhDate},
    		#{item.price},#{item.tnPrice},#{item.baseTotal},#{item.total},
    		#{item.tfDate},#{item.djArea},#{item.rhDate},#{item.areaStatus},
    		#{item.roomStru},#{item.bProductTypeCode},#{item.ysBldArea},#{item.ysTnArea},
    		#{item.scBldArea},#{item.scTnArea},#{item.earnest},#{item.yszNum},
    		#{item.noTaxAmount},#{item.taxAmount},#{item.taxRate},#{item.noTaxAmountDj},
    		#{item.taxAmountDj},#{item.isMainRoom},#{item.mainDataProductTypeCode},
    		#{item.mainDataBldId},#{item.realTakeCardTime},#{item.sourceCreateTime},
    		#{item.createTime}
      	)
    	</foreach>
	</insert>
	
	<select id="selectByRoomGuid" resultType="com.tahoecn.bo.model.entity.SaleRoom">
        SELECT
			id,
			room_guid,
			bu_guid,
			proj_guid,
			bld_guid,
			main_room_guid,
			unit,
			floor,
			no,
			room,
			room_code,
			hu_xing,
			status,
			is_virtual_room,
			bld_area,
			tn_area,
			blrh_date,
			price,
			tn_price,
			base_total,
			total,
			tf_date,
			dj_area,
			rh_date,
			area_status,
			room_stru,
			b_product_type_code,
			ys_bld_area,
			ys_tn_area,
			sc_bld_area,
			sc_tn_area,
			earnest,
			ysz_num,
			no_tax_amount,
			tax_amount,
			tax_rate,
			no_tax_amount_dj,
			tax_amount_dj,
			is_main_room,
			main_data_product_type_code,
			main_data_bld_id,
			real_take_card_time,
		    source_create_time,
			create_time
		FROM
			sale_room
		WHERE room_guid = #{roomGuid}
    </select>
	
	<update id="batchUpdateRoomInfoData">
        <foreach collection="list" separator=";" item="item">
            update sale_room set
            	id = #{item.id},
            	room_guid = #{item.roomGuid},
				bu_guid = #{item.buGuid},
				proj_guid = #{item.projGuid},
				bld_guid = #{item.bldGuid},
				main_room_guid = #{item.mainRoomGuid},
				unit = #{item.unit},
				floor = #{item.floor},
				no = #{item.no},
				room = #{item.room},
				room_code = #{item.roomCode},
				hu_xing = #{item.huXing},
				status = #{item.status},
				is_virtual_room = #{item.isVirtualRoom},
				bld_area = #{item.bldArea},
				tn_area = #{item.tnArea},
				price = #{item.price},
				tn_price = #{item.tnPrice},
				base_total = #{item.baseTotal},
				total = #{item.total},
				dj_area = #{item.djArea},
				rh_date = #{item.rhDate},
				area_status = #{item.areaStatus},
				room_stru = #{item.roomStru},
				b_product_type_code = #{item.bProductTypeCode},
				ys_bld_area = #{item.ysBldArea},
				ys_tn_area = #{item.ysTnArea},
				sc_bld_area = #{item.scBldArea},
				sc_tn_area = #{item.scTnArea},
				earnest = #{item.earnest},
				ysz_num = #{item.yszNum},
				no_tax_amount = #{item.noTaxAmount},
				tax_amount = #{item.taxAmount},
				tax_rate = #{item.taxRate},
				no_tax_amount_dj = #{item.noTaxAmountDj},
				tax_amount_dj = #{item.taxAmountDj},
				is_main_room = #{item.isMainRoom},
				main_data_product_type_code = #{item.mainDataProductTypeCode},
				main_data_bld_id = #{item.mainDataBldId},
				real_take_card_time = #{item.realTakeCardTime},
			    source_create_time = #{item.sourceCreateTime},
				update_time = #{item.updateTime}
			Where room_guid = #{item.roomGuid}
        </foreach>
    </update>
</mapper>
